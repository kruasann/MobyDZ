# Вопросы


1. В чем отличие su от sudo и зачем они нужны?

   **su (substitute user)** позволяет переключиться на другого пользователя, например, root, вводя его пароль. **sudo (Substitute User and do)** позволяет выполнять команды с правами другого пользователя, обычно root, но с использованием собственного пароля и с возможностью ограничить права через конфигурацию

   ![image](https://github.com/user-attachments/assets/69ffdb16-1027-4ba1-8935-7fc53ee872f9)

  
2. Кто может использовать sudo?

   **sudo** могут использовать пользователи, указанные в файле **/etc/sudoers**. Там задаются, кто и какие команды может выполнять

3. Как правильно повышать свои привилегии и почему?

   Лучше использовать **sudo**, потому что оно даёт ограниченный доступ, не давая полного контроля над системой как **su**

4. Чем отличается su user от su - user?

   **su user** — просто переключает на пользователя, сохраняя твои текущие настройки. **su - user** — переключает на пользователя и настраивает его окружение, как если бы ты только что вошёл

5. Объесните эту запись ALL=(ALL) NOPASSWD: ALL

   **ALL=(ALL) NOPASSWD: ALL** это значит, что любой пользователь может выполнять команды от имени любого другого пользователя, без запроса пароля

6. Чей пароль нужно вводить при команде "su" и чей при команде "sudo"
   
   При **su** вводишь пароль того пользователя, на которого переключаешься (например, root). При **sudo** вводишь свой собственный пароль, если имеешь разрешение на выполнение команд

7. Чем отличается login shell / interactive / non-login shell / non-interactive shell
   
   **login shell** — оболочка, которая запускается при входе в систему. **interactive shell** — оболочка, в которой можно вводить команды. **non-login shell** — оболочка, запущенная внутри другой (например, из терминала). **non-interactive shell** — используется для автоматического выполнения команд (например, в скриптах)

8. Какие файлы задействованы в формировании окружения?
   
   Для формирования окружения используются файлы вроде **/etc/profile**, **~/.bash_profile**, **~/.bashrc**, **~/.profile**. Они задают настройки, такие как переменные окружения и алиасы


---

# Задания


1. С помощью переменных докажите, что login shell и non-login shell отличаются. <details><summary>![image](https://github.com/user-attachments/assets/1fafa5ff-623d-4a2b-adca-900308c28b73)</summary>~У меня теперь патриотичный bash)~</details>

* Префикс "-" перед именем оболочки (-bash) указывает, что это login shell.

* Эта переменная окружения, скорее всего, была установлена в одном из файлов конфигурации login shell (~/.bash_profile)

* Команда bash запускает non-login shell

* Здесь уже нет префикса -, что указывает на то, что текущая оболочка является non-login shell, так как она была запущена внутри уже существующей сессии

2. Сделайте пользователя user2 администратором системы. (sudoers)

   В sudoers даем права пользователю user2, чтобы была возможность выполнять любые команды от имени любого пользователя
   
   ![image](https://github.com/user-attachments/assets/e379ed34-c0cc-4fe8-882a-876fcf78a4c2)

   Провеирм, если user2 является администратором, то **sudo whoami** вернет **root**

   ![image](https://github.com/user-attachments/assets/f6468e21-94a9-4c41-975d-5e3b7e937992)

    
3. Разрешите пользователю user1 запускать команду ls от пользователя user2. (sudoers)

   В sudoers даем права пользователю user2, чтобы была возможность запускать команду ls от имени пользователя user2
   
   ![image](https://github.com/user-attachments/assets/516222c2-f3a5-4364-ae3d-1a3cb6d9c5dd)

   Проверка связи

   ![image](https://github.com/user-attachments/assets/68632584-1378-400b-b873-9576bd985a0e)


4. Создайте группу пользователей из user1 / user2 / user3, затем дайте участникам группы разрешение на обновление базы данных `apt` и выключение системы. (sudoers)

   Создаем группу и добавляем туде юзеров
   
   ![image](https://github.com/user-attachments/assets/c35df6ea-4b35-4423-a317-330a19a93c5e)

   Теперь в sudoers разрешаем этим юзерам обновлять бд apt и выключать систему

   ![image](https://github.com/user-attachments/assets/a60b559d-087c-4d82-ab26-c19ce0009851)

   Проверка

   ![image](https://github.com/user-attachments/assets/960d0fa7-4945-4f9d-90bd-99ab8659729c)


   
